<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Sasha AI</title>

<style>
:root { --neon:#00d8ff; --dark:#050505; }

html,body{
margin:0;
padding:0;
background:var(--dark);
color:#fff;
font-family:Segoe UI;
height:100%;
overflow:hidden;
}

#sasha-viewport{
position:fixed;
inset:0;
z-index:1;
pointer-events:none;
}

#chat-container{
position:fixed;
bottom:30px;
left:30px;
width:420px;
height:480px;
background:rgba(10,10,10,.9);
border-radius:10px;
display:flex;
flex-direction:column;
z-index:10;
}

#messages{
flex:1;
padding:15px;
overflow-y:auto;
display:flex;
flex-direction:column;
gap:10px;
}

.msg{
padding:10px;
border-radius:6px;
max-width:85%;
font-size:14px;
}

.ai{
background:rgba(0,216,255,.1);
color:var(--neon);
align-self:flex-start;
}

.user{
background:#222;
align-self:flex-end;
}

.input-row{
display:flex;
gap:8px;
padding:10px;
border-top:1px solid #333;
}

input{
flex:1;
background:#000;
border:1px solid #444;
color:#fff;
padding:10px;
border-radius:5px;
}

button{
background:#000;
border:1px solid var(--neon);
color:var(--neon);
padding:10px 18px;
cursor:pointer;
}
</style>
</head>

<body>

<div id="sasha-viewport"></div>

<div id="chat-container">
  <div id="messages">
    <div class="msg ai"><b>–°–ò–°–¢–ï–ú–ê:</b> –ö–ª–∏–∫–Ω–∏ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏</div>
  </div>

  <div class="input-row">
    <input id="user-in" placeholder="–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
    <button onclick="askSasha()">SEND</button>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/loaders/GLTFLoader.js"></script>

<script>
document.getElementById("user-in").addEventListener("keydown", e=>{
if(e.key==="Enter") askSasha();
});

let sasha;
let isSpeaking=false;
let activated=false;

const SashaBrain = {

memory: JSON.parse(localStorage.getItem("sasha_memory") || "[]"),

save(){
localStorage.setItem("sasha_memory", JSON.stringify(this.memory));
},

process(text){

const raw=text.trim();
const t=raw.toLowerCase();

if(/^(–ø—Ä–∏–≤–µ—Ç|–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π|—Ö–∞–π|–π–æ)/i.test(t))
return "–ü—Ä–∏–≤–µ—Ç üôÇ –Ø –Ω–∞ —Å–≤—è–∑–∏.";

if(/–∫–∞–∫ –¥–µ–ª–∞|–∫–∞–∫ —Ç—ã/i.test(t))
return "–†–∞–±–æ—Ç–∞—é —Å—Ç–∞–±–∏–ª—å–Ω–æ. –ì–æ—Ç–æ–≤–∞ –ø–æ–º–æ–≥–∞—Ç—å.";

if(/—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å|—Ç–≤–æ–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏/i.test(t))
return "–Ø —É–º–µ—é –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∑–Ω–∞–Ω–∏—è, –∫–æ–¥ –∏ –≤—ã–¥–∞–≤–∞—Ç—å –∏—Ö –ø–æ –∑–∞–ø—Ä–æ—Å—É.";

if(/–¥–∞–π|–ø–æ–∫–∞–∂–∏|–Ω–∞–ø–∏—à–∏/.test(t) && /–∫–æ–¥/.test(t)){
let found=this.memory.find(m=>m.type==="code" && t.includes(m.topic));
if(found) return found.content;
return "–£ –º–µ–Ω—è –ø–æ–∫–∞ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –∫–æ–¥–∞. –ú–æ–∂–µ—à—å –º–µ–Ω—è –æ–±—É—á–∏—Ç—å üôÇ";
}

if(/–¥–∞–π.*–∑–Ω–∞–Ω–∏—è|—á—Ç–æ —Ç—ã –∑–Ω–∞–µ—à—å/i.test(t)){
if(this.memory.length===0)
return "–ü–æ–∫–∞ —É –º–µ–Ω—è –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π.";
return "–Ø –∑–Ω–∞—é:\n" + this.memory.map(m=>"‚Ä¢ "+m.topic).join("\n");
}

if(/–∫–æ–¥/i.test(t) && /{|using|class|void|public|private/.test(raw)){
this.memory.push({ type:"code", topic:"c#", content:raw });
this.save();
return "–ö–æ–¥ —Å–æ—Ö—Ä–∞–Ω—ë–Ω üß†";
}

if(/—ç—Ç–æ|–∑–Ω–∞—á–∏—Ç|–µ—Å—Ç—å/i.test(t)){
this.memory.push({
type:"fact",
topic:t.split(" ").slice(0,3).join(" "),
content:raw
});
this.save();
return "–ó–Ω–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ üß†";
}

let found=this.memory.find(m=>t.includes(m.topic));
if(found) return found.content;

return "–Ø —Ç–µ–±—è —Å–ª—ã—à—É. –ú–æ–∂–µ—à—å –ª–∏–±–æ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å, –ª–∏–±–æ –æ–±—É—á–∏—Ç—å –º–µ–Ω—è.";
}
};

function speak(text){
speechSynthesis.cancel();
const u=new SpeechSynthesisUtterance(text);
u.rate=1;
u.pitch=0.9;
u.onstart=()=>isSpeaking=true;
u.onend=()=>isSpeaking=false;
speechSynthesis.speak(u);
}

function addMsg(w,t,c){
const messages=document.getElementById("messages");
messages.innerHTML+=`<div class="msg ${c}"><b>${w}:</b> ${t}</div>`;
messages.scrollTop=messages.scrollHeight;
}

function askSasha(){
const input=document.getElementById("user-in");
if(!input.value.trim()) return;
addMsg("–í—ã",input.value,"user");
const r=SashaBrain.process(input.value);
setTimeout(()=>{
addMsg("–°–∞—à–∞",r,"ai");
speak(r);
},100);
input.value="";
}

document.body.addEventListener("click",()=>{
if(activated) return;
activated=true;
const hi="–ü—Ä–∏–≤–µ—Ç. –Ø –°–∞—à–∞. –ì–æ—Ç–æ–≤–∞ –æ–±—É—á–∞—Ç—å—Å—è –∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã.";
addMsg("–°–∞—à–∞",hi,"ai");
speak(hi);
},{once:true});

const scene=new THREE.Scene();

const cam=new THREE.PerspectiveCamera(
45,
innerWidth/innerHeight,
0.1,
1000
);

const renderer=new THREE.WebGLRenderer({
alpha:true,
antialias:true
});

renderer.setSize(innerWidth,innerHeight);
document.getElementById("sasha-viewport").appendChild(renderer.domElement);

scene.add(new THREE.AmbientLight(0xffffff,2.5));

new THREE.GLTFLoader().load(
"SashaAI.glb",
g=>{
sasha=g.scene;
sasha.scale.set(1.8,1.8,1.8);
scene.add(sasha);
cam.position.set(0,1.5,5);
animate();
}
);

function animate(){
requestAnimationFrame(animate);

if(sasha){
sasha.rotation.x = 0;
sasha.rotation.z = 0;
sasha.rotation.y = THREE.MathUtils.degToRad(90); // ‚Üê –í–û–¢ –¢–£–¢ 90¬∞
}

renderer.render(scene,cam);
}

window.addEventListener("resize",()=>{
cam.aspect=innerWidth/innerHeight;
cam.updateProjectionMatrix();
renderer.setSize(innerWidth,innerHeight);
});
</script>

</body>
</html>

























