<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Саша AI</title>
<style>
body { background:#0e0e0e; color:#00ff88; font-family:monospace; }
input { width:80%; padding:10px; background:#111; color:#0f0; }
button { padding:10px; }
#log { margin-top:20px; white-space:pre-wrap; }
</style>
</head>
<body>

<h2>Саша AI (обучаемый)</h2>

<input id="input" placeholder="Введи текст, код или запрос">
<button onclick="send()">▶</button>

<div id="log"></div>

<script>
const SashaBrain = {
  memory: JSON.parse(localStorage.getItem("sasha_memory")) || {
    knowledge: []
  },

  save(){
    localStorage.setItem("sasha_memory", JSON.stringify(this.memory));
  },

  looksLikeKnowledge(text){
    return (
      text.length > 80 ||
      /using\s+UnityEngine|class\s+\w+|public\s+class|function\s+\w+|#include|void\s+\w+/i.test(text)
    );
  },

  tags(text){
    return text
      .toLowerCase()
      .replace(/[^a-zа-я0-9+#]/gi," ")
      .split(/\s+/)
      .filter(w => w.length > 3);
  },

  process(input){
    const text = input.trim();
    const lower = text.toLowerCase();

    /* ===== АВТО-ОБУЧЕНИЕ ===== */
    if (this.looksLikeKnowledge(text)) {
      this.memory.knowledge.push({
        id: Date.now(),
        text,
        tags: this.tags(text)
      });
      this.save();
      return "Я это понял и сохранил. Можешь потом попросить.";
    }

    /* ===== ПОИСК ПО СМЫСЛУ ===== */
    const qTags = this.tags(text);
    const found = this.memory.knowledge.filter(k =>
      qTags.some(t => k.tags.includes(t))
    );

    if (found.length) {
      return found
        .sort(()=>0.5 - Math.random())
        .slice(0,2)
        .map(k => k.text)
        .join("\n\n");
    }

    return "Дай мне код или информацию — я это сохраню. Либо спроси, что выдать.";
  }
};
</script>
</body>
</html>


















